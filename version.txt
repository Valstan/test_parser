1.0 - 29.11.2019

1.1 - 2 декабря 2019
первый раз заработало в автоматическом и правильном режиме на МалмыжИнфо

2.1 - 7 декабря 2019
теперь наоборот один конфиг файл и несколько исполняемых и расписание забито в кроне

2.2 - 16 декабря 2019
с модулем PIL сравнения гистограммы картинок

2.3 - 17 декабря 2019
создан parser_modul

2.4 - 31 декабря 2019
блеклист объединен с allpost c allsorts теперь на сходство картинок проверяются почти все посты  LIP вынес в отдельный файлик чтобы не портить setup json

2.5 - 2 января 2020
гистограмму прошлых картинок теперь храню в LIP блеклист ненужен, зато гистограммы великоваты, придется их сжимать

2.6 - 5 января 2020
гистограмма хранится в своем отдельном LIP
уменьшил ALL_SORT до 20-и потом совсем уберу, теперь парсер вместо 50 минут отрабатывает за 5 минут
и не перебивается весь БЕЗ-ФОТО
фактически сейчас парсером первоначальный набор и сортировка в группы СОРТ идут с помощью гистограмм и безфото
а вот уже репосты в основную группу идут чисто по LIP сортировке

3.0 - 30 января 2020
Парсер переехал с VPS обратно на рабочий сервер магазина. Все модули снова объеденены в один файл, все JSON файлы объединены в одну JSON базу, сокращено количество публикаций, теперь публикуются отдельными блоками по 3-5 сообщений каждую секунду, блоки утро, утро-реклама, обед, день-реклама1, день-реклама2, вечер1, вечер2

3.1 - 31 января 2020
4 базы отдельно - основная, с гистограммами картинок, с текучкой безфото, с базой всех безфото. Модули объединены в один файл, и сделано 5 стартеров со списком команд. Первые удачные запуски. Пока вручную

3.2 - 4 мая 2020
Добавлен Автомат, скрипт сам проверяет время на компе и выдает посты по расписанию, созданы шаблоны шапки и подвала поста, скрипт работает на аккаунте Ульяны

3.3 - 6 мая 2020
Перевел все в автомат, переписал в автомате логику (буквенные списки заданий), оптимизировал moduls

3.4 - 30 мая 2020. Заплатка на SSl для Питона. Работает три варианта запуска парсера - крон, автомат, ручной (новости, реклама)

3.5 - 31 мая 2020. Оптимизация кода: постинг сжат в одну процедуру вместо нескольких тематических, база разделена на id, lip, histogram

3.6 - 11 июня 2020. Оптимизация кода с оператором IN и булевыми переменными TRUE и FALSE. Автоконтроль за размером базы гистограм (при добавлении новой удаляется самая старая). Идея сделать единую JSON базу, сжимать ZIP и хранить на FTP

3.7 - 15 июня 2020. Хэширую гистограммы картинок, в итоге база histo стала вместо 50мб -> 500 кб, объеденил histo и lip в одну базу, осталось и БезФото туда же засунуть. Разделил проги на work и test, каждая в свои группы постит. Work теперь прямо в каталоге ЯндексДиска на компе, а значит последняя версия базы всегда доступна.

3.8 - 16 июня 2020
Парсер стал универсальным для всех групп (тест, драндулет, малмыжинфо). У всех индивидуальные базы с подключением через конфиг-файл, который у каждого свой и подгружается вручную в корень скрипта. Запуск с одного файла СТАРТ в корне скрипта с аргументами режима работу крон, автомат, новости, реклама. Осталось в базу засунуть безфото и можно версию парсера назвать 4-й.

3.9 - 2 июля 2020
Парсер единый, различаются только сами базы, парсеры для определенной группы запускаются в зависимости от времени, префикс и расписание работы хранятся в самих базах групп.
Конфиг единый, там же и черный список стоп-слов (который пока не работает всетаки). БезФото пока хранится в текстовых файлах с префиксом, префиксы также и у каждой базы.

3.9.1 - 5 июля 2020
Исправил работу черного списка стоп-слов.

3.9.2 - 5 июля 2020
Оказывается не исправил черный список, теперь впервые внедрил регулярные выражения и надеюсь что черный список заработал.

3.9.3 - 6 июля 2020
Доработал сортировку "безфото", теперь больше постов "безфото" должно попадать в ленту, в пост "объявления"

3.9.4 - 7 июля 2020
Обработка обертки "автор тут" с рандомизированными указателями картинками в начале строки

3.9.5 - 12 июля 2020
Убрал АвторТут и Подвал поста с предложением подписаться на группу, потому что в мобильном приложении ВК это обрабатывалось с ошибками

3.10.0 - 3 августа 2020
Модуль del_history доработан и переименован в correctmsg. Теперь сразу на входе все сообщения исправляются, убирается режим репоста(history) и вычищается текстовое сообщение от ненужных слов и лишних пробелов. Таким образом например очищаются посты из группы "Малмыж Обо Всем" от хештегов malpod и Анон

3.11.0 - 29 августа 2020
База сохраняется на диск в файл сразу при каждом ее изменении в каждом модуле. Каждый модуль сам считывает базу по префиксу перед началом своей работы.

3.11.1 - 6 сентября 2020
Исправил ошибку в базах данных, когда сортировка новостей и рекламы из местных групп шла в сортировку, но постинги в основную группу шли не из сортировочных групп а напрямую снова с источников...

3.12 - 8 сентября 2020
Разложил все функции в отдельные файлы, некоторые по ходу дела оптимизировал.

4.0.1 - 29 сентября 2020
Большая переделка всего парсера. Ранее предполагалось что в 4-й версии появится ИИ, но в итоге пока только сортировка новых спарсенных постов по количеству просмотров. Первая бета-версия поставленная на авто-тестирование. Создана папка TPbeta и для нее в Планировщике задач Windows создана задача-расписание запуска. Внедрил логгирование LOGURU по совету Диджитализируй.

4.1 - 30 сентября 2020
Исправил парочку ошибок и не удержался поставил прогу в продакш на обе базы (МалмыжИнфо и Драндулет)

4.2 - 3 октября 2020
Добавил модуль РЕКЛАМА, который репостит рекламу из специально подготовленных и наполненных групп в ВК сразу в обе группы и МалмыжИнфо и в Драндулет, но разные посты.

4.3 - 12 октября 2020
Добавил модуль POST_ME который каждый час репостит из МалмыжИнфо ко мне на стену посты (кроме Объявления), при этом новые последние 10 сообщений из группы не берет.
Распихал все служебные модули в три разные подпапки.

4.4 - 30 октября 2020
sort_old_date
Выявилась неприятная особенность, старые посты стали по новой выставляться в группу из других групп. Сначала хотел увеличить запоминание хэшей постов  в базе на 2000 постов, но файл базы и так перевалил уже за 5 мегабайт. Поэтому написал модуль sort_old_date которые не пропускает посты старее 3 дней. При этом он пропускает посты старее 3 дней если они были репостом сделаны в других группах, за счет того, что сначала идет проверка на давность поста, а уже потом идет clear_copy_history(sample).
Уменьшил количество сохраняемых хэшей постов в базе до 500. Посмотрю на результат, быть может еще можно будет уменьшить.